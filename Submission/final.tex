% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass[11pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)
\usepackage[backend=biber, style=authoryear]{biblatex}
\addbibresource{bibliography.bib}
%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

%\usepackage{graphicx} % support the \includegraphics command and options

\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{caption, booktabs} % for much better looking tables
\captionsetup{  justification = centering }
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
\usepackage{graphicx}
\usepackage{rotating}
\usepackage{multirow} % allows multiple rows per cell
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

%%% END Article customizations

%%% The "real" document content comes below...

\title{\vspace{-3.0cm}Title}
\author{Author}
%\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle

1505 words excluding headings, figures, and references. \\

\section{Introduction}

Finding study space at UCL is \textit{difficult}.  How does the distributed structure of study space at UCL influence the search costs for students and the total usage of the space available? Additionally, how does the \textbf{UCL Go} study space app (pictured in Figure 1) affect search costs? 

This research could inform decisions about the structure of study space and the selection of mobile applications for improving search outcomes.

The ease with which heterogeneity can be introduced both for the study space structure, and student preferences is very useful. Second, ABM makes it easier to study emergent phenomenon involved with the effect of the UCL Go App providing the same information to a large number of agents, who then compete for study space, i.e. "flocking". The app could raise search times by misleading agents to seek out study spaces that will be filled by the time they arrive.   Finally, the graphical outputs of the model may make it more persuasive to the less technical decision makers who structure university space.\\

\section{Literature Review}

Reservation systems alter the dynamics of the search for parking space \parencite{TasseronG.2017Upsr}. In that work, a subset of "car" agents shared parking spot availability information. Search times improved for connected cars but came at a cost to non-connected cars for no net social benefit. The key structural difference between the research proposed and the work cited is the bottom up granular parking information compared to the top down aggregate information shared by the UCL Go app.

The big difference between the parking models and the model I'm using is that on street parking is less clustered than the library space. 

The PARKAGENT model is done in ArcGIS and can efficiently record distributions as well as averages. Search function focuses on intersections as nodes, prioritizing by proximity to final destination. Also, the model is focused on the trade-off between proximity to final destination and finding a space, so a driver might drive past a space if they estimate that a space closer to their final destination is available. 

\section{Methodology}

An agent based model was built in Netlogo and initially calibrated to approximate the distance, study space density, and student population of UCL. Table 1 contains the data for travel time between and search time within the major UCL study spaces. Important to note that search times range from 200 seats per minute in the Student center to 30 per minute in the Bartlett Library, and that a reasonably travel time diameter of campus is ~15 or 20 minutes walk. 


% table of data about campus walking times and library search times


\begin{table}[]
\setlength\tabcolsep{0pt} % default value: 6pt
\footnotesize
\begin{tabular}{l|c|ccccccccc}
Location 		& index \space & 1   & 2     				& 3 					& 4 					& 5 					& 6 \\ \hline
Bart. Lib 		& 1 	& \fbox{69 \{2:00\}}& 4:30  				& 8:00*					& 9:01					& 8:30					& 5:00*	\\
Student Ct. 	& 2 	& 4:30				& \fbox{647 \{3:00\}}	& 1:43					& 4:31					& 4:10					& 5:00* \\
Main Lib 		& 3 	& 6:13				& 2:43					& \fbox{645 \{8:02\}}	& 2:48					& 2:27					& 7:00*	\\
Science Lib 	& 4 	& 9:01				& 7:18					& 2:48					& \fbox{ 925 \{ 6:28\}}	& 5:15					& 6:00*	\\
Cruciform 		& 5 	& 8:40				& 5:10					& 2:27					& 5:15					& \fbox{ 326 \{2:08\}}	& 9:00*	\\
IoE 			& 6 	& 5:00*				& 5:00*					& 7:00*					& 6:00*					& 9:00*					& \fbox{ 326 \{5:58\}}	\\
Kings Cross	\space & 7 	& 9:01				& 16:00*       			& 18:00*				& 21:00*				& 18:00*				& 21:00*	\\
Warren St. 		& 8 	& 10:00*			& 8:00*					& 4:00*					& 9:00*					& 3:00*					& 11:00*	\\
Russell Sq 		& 9 	& 7:37				& 10:00*				& 12:00*				& 10:00*				& 13:00*				& 3:00*					
\end{tabular}
\caption{Walking time data for campus locations \\ \footnotesize{Time to walk between locations. Where $i = j$ notation is'' ``total seats \{search time\} '' 
\\ * indicates walking time taken from Google Maps}}
\end{table}

The first step was to find a minimum number of runs for parameters reasonably close to UCL characteristics. 

The second step was to find the effect of scaling the model. Actual parameter values for UCL would be probably 50-75\% of the 40,000 enrolled students searching the roughly 4,000 study spaces across campus in order to do at least 1-2 hours of work. Runtimes for parameters of this magnitude were unfeasible so the model had to be scaled down, maintaining accurate ratio's where possible but reducing the number of students, spaces, places, and total work to be accomplished. Thus it was important to check multiple scales for a difference in outcomes. 

Then the density of study spaces was changed, to investigate how dispersion affects search costs.

Overall, the model was too large to allow for an actual parameter sweep, so the methodology above focused on investigating the key concerns about drawing conclusions from the model and the results below are discussed in this context. 


\section{Results}

The results are found in tables 2 through 5. The key value in each table is the number of ticks required for all work to be ``completed.'' In addition, ``efficiency'' is calculated, which is the total work completed, divided by the number of turtles in the trial, multiplied by the number of ticks the model ran for. This has the value of adjusting for differing total amounts of work due to the random initialization of work amounts specified by the mean of a uniform distribution. The ``function'' row indicates which search function was used in the trial. $Most$ indicates that the turtles prioritized their search by the absolute value of spaces in a given patch. $Prox$ indicates that turtles prioritized their search by the total distance to the patch, closest unsearched patches checked first. $Perc$ indicates that turtles searched patches by order of percentage of seats available. Please see the ODD material for specifics of the implementation of these search functions. Lastly, trial values from one run are never included in the values of another run, so that the sample statistics are not biased towards each other, they are independent except that they are produced by the same process subject to parameter changes. This is an important factor in interpreting tables 2, 3, and 4, where the minimum required runs is being considered. 







% table of trial data

\begin{table}[]
\footnotesize
\centering
\begin{tabular}{l|l|ccc|ccc}
 & Trial & 1 & 2 & 3 & 4 & 5 & 6  \\ \hline
  \parbox[t]{2mm}{\multirow{7}{*}{\rotatebox[origin=c]{90}{parameters}}} 
 & step size 	& 10  			& 10  			& 10 			& 10 					& 10 				& 10  \\
 & work avg 	& 60 			&  60 			& 60			& 60 					& 60 				& 60 \\
 & students 	& 1000 			& 1000 			& 1000 			& 2000 					& 2000 				& 2000 \\
 & places 		& 5 			& 5 			& 5 			& 10 					& 10 				& 10 \\
 & spaces 		& 250 			& 250 			& 250 			& 500 					& 500 				& 500 \\
 & function 	& most 			& prox 			& perc 			& most 					& prox 				& perc \\
 & trials 		& 5 			& 5 			& 5 			& 5 					& 5 				& 5 \\ \hline
\parbox[t]{2mm}{\multirow{3}{*}{\rotatebox[origin=c]{90}{results}}} 
 & ticks 		& $164\pm 8.6$ 	& $143\pm 5.8$ 	& $151.2\pm 5.7$	& $155.4\pm 4.0$	& $136.8\pm 6.1$	& $150.4\pm 2.1$ \\
 & efficiency 	& 36\%			& 42\%			& 40\%				& 39\%				& 44\%				& 40\% \\
 & runtime (s) 	& 52.49			& 43.27			& 48.90				& 115.56			& 100.38			& 118.90
\end{tabular}
\caption{Parameters and results of various trial sets discussed \\ \footnotesize In results, tick value is ``$mean \pm margin \: of \: error$''}
\end{table}



%redo with 10 trials each

\begin{table}[]
\footnotesize
\centering
\begin{tabular}{l|l|ccc|ccc}
 & Trial & 7 & 8 & 9 & 10 & 11 & 12  \\ \hline
  \parbox[t]{2mm}{\multirow{7}{*}{\rotatebox[origin=c]{90}{parameters}}} 
 & step size 	& 10  			& 10  			& 10 			& 10 					& 10 				& 10  \\
 & work avg 	& 60 			&  60 			& 60			& 60 					& 60 				& 60 \\
 & students 	& 1000 			& 1000 			& 1000 			& 2000 					& 2000 				& 2000 \\
 & places 		& 5 			& 5 			& 5 			& 10 					& 10 				& 10 \\
 & spaces 		& 250 			& 250 			& 250 			& 500 					& 500 				& 500 \\
 & function 	& most 			& prox 			& perc 			& most 					& prox 				& perc \\
 & trials 		& 10 			& 10 			& 10 			& 10 					& 10 				& 10 \\ \hline
\parbox[t]{2mm}{\multirow{3}{*}{\rotatebox[origin=c]{90}{results}}} 
 & ticks 		& $164.9\pm 14.8$ 	& $155.1\pm 21.7$ 	& $168.7\pm 15.4 $	& $153\pm 5.6 $	& $136\pm 3.7 $	& $154\pm 4.2$ \\
 & efficiency 	& 36.4\%			& 38.5\%			& 35.7\%				& 39.1\%				& 43.7\%				& 39.1\% \\
 & runtime (s) 	& 90.5			& 	93.8		& 	89.4			& 165.1			& 157.5			& 160.2
\end{tabular}
\caption{Parameters and results of trials continued \\ \footnotesize In results, tick value is ``$mean \pm margin \: of \: error$''}
\end{table}


% basic 1 and 2 for 20 trials

\begin{table}[]
\footnotesize
\centering
\begin{tabular}{l|l|ccc|ccc}
 & Trial & 13 & 14 & 15 & 16 & 17 & 18  \\ \hline
  \parbox[t]{2mm}{\multirow{7}{*}{\rotatebox[origin=c]{90}{parameters}}} 
 & step size 	& 10  			& 10  			& 10 			& 10 					& 10 				& 10  \\
 & work avg 	& 60 			&  60 			& 60			& 60 					& 60 				& 60 \\
 & students 	& 1000 			& 1000 			& 1000 			& 2000 					& 2000 				& 2000 \\
 & places 		& 5 			& 5 			& 5 			& 10 					& 10 				& 10 \\
 & spaces 		& 250 			& 250 			& 250 			& 500 					& 500 				& 500 \\
 & function 	& most 			& prox 			& perc 			& most 					& prox 				& perc \\
 & trials 		& 20 			& 20 			& 20 			& 20 					& 20 				& 20 \\ \hline
\parbox[t]{2mm}{\multirow{3}{*}{\rotatebox[origin=c]{90}{results}}} 
 & ticks 		& $159.5\pm 7.8$ 	& $147.2\pm 4.9$ 	& $159.3\pm 5.7 $	& $153.5\pm 3.20 $	& $137.3\pm 1.90 $	& $152.55\pm 2.53$ \\
 & efficiency 	& 37.7\%			& 40.7\%			& 37.8\%				& 39.1\%				& 43.8\%				& 39.4\% \\
 & runtime (s) 	& 82.2			& 69.0			& 86.2				& 182.0			& 151.3			& 187.2
\end{tabular}
\caption{Parameters and results of trials continued \\ \footnotesize In results, tick value is ``$mean \pm margin \: of \: error$''}
\end{table}




%Basic 3 and 4 for 20 trials

\begin{table}[]
\footnotesize
\centering
\begin{tabular}{l|l|ccc|ccc}
 & Trial & 19 & 20 & 21 & 22 & 23 & 24  \\ \hline
  \parbox[t]{2mm}{\multirow{7}{*}{\rotatebox[origin=c]{90}{parameters}}} 
 & step size 	& 10  			& 10  			& 10 			& 10 					& 10 				& 10  \\
 & work avg 	& 30 			&  30 			& 30			& 30 					& 30 				& 30 \\
 & students 	& 2000 			& 2000 			& 2000 			& 2000 					& 2000 				& 2000 \\
 & places 		& 10 			& 10 			& 10 			& 10 					& 10 				& 10 \\
 & spaces 		& 250 			& 250 			& 250 			& 100 					& 100 				& 100 \\
 & function 	& most 			& prox 			& perc 			& most 					& prox 				& perc \\
 & trials 		& 20 			& 20 			& 20 			& 20 					& 20 				& 20 \\ \hline
\parbox[t]{2mm}{\multirow{3}{*}{\rotatebox[origin=c]{90}{results}}} 
 & ticks 		& $114.7\pm 7.9$ 	& $88.4\pm 3.7 $ 	& $ 112\pm 6.5 $	& $193.6\pm 15.6 $	& $141.2\pm 6.3 $	& $199.4\pm 11.7 $ \\
 & efficiency 	& 26.1\%			& 33.9\%		& 26.8\%			& 15.4\%			& 21.1\%			& 15.0\% \\
 & runtime (s) 	& 112.5			& 89.9			& 119.4			& 186.0			& 119.9			& 194.1
\end{tabular}
\caption{Parameters and results of trials continued \\ \footnotesize In results, tick value is ``$mean \pm margin \: of \: error$''}
\end{table}


\begin{table}[]
\footnotesize
\centering
\begin{tabular}{l|l|ccc|ccc}
 & Trial & 25 & 26 & 27 & 28 & 29 & 30  \\ \hline
  \parbox[t]{2mm}{\multirow{7}{*}{\rotatebox[origin=c]{90}{parameters}}} 
 & step size 	& 10  			& 10  			& 10 			& 10 					& 10 				& 10  \\
 & work avg 	& 30 			&  30 			& 30			& 30 					& 30 				& 30 \\
 & students 	& 2000 			& 2000 			& 2000 			& 2000 					& 2000 				& 2000 \\
 & places 		& 20 			& 20 			& 20 			& 30 					& 30 				& 30 \\
 & spaces 		& 125 			& 125 			& 125 			& 83 					& 83 				& 83 \\
 & function 	& most 			& prox 			& perc 			& most 					& prox 				& perc \\
 & trials 		& 20 			& 20 			& 20 			& 20 					& 20 				& 20 \\ \hline
\parbox[t]{2mm}{\multirow{3}{*}{\rotatebox[origin=c]{90}{results}}} 
 & ticks 		& $138.8\pm 5.8$ 	& $92.3\pm 4.2 $ 	& $ 143.5\pm 6.2 $	& $175.3\pm 9.5 $	& $98.3\pm 5.9 $	& $177.4\pm 9.8 $ \\
 & efficiency 	& 21.5\%		& 32.4\%		& 21.0\%			& 17.1\%		& 30.3\%		& 16.9\% \\
 & runtime (s) 	& 142.1		&	93.5		& 	148.2		& 165.4			& 96.2			& 166.8
\end{tabular}
\caption{Parameters and results of trials continued \\ \footnotesize In results, tick value is ``$mean \pm margin \: of \: error$''}
\end{table}


\pagebreak

\section{Analysis}

The following is a series of observations drawn from tables 2 through 6, contextualized using the research question, model implementation and real world data. 

First, in all of the trials, the margins of error for ticks required are higher than the author would prefer. This was limited by computing resources as each table took between 30 and 60 minutes to compute and computing time grew linearly with number of trials. Still, margins of error are small enough to allow for some basic conclusions to be drawn as follows. 

Second, and most importantly, it cannot be concluded that information about the occupancy of a study location, like that provided by the UCL Go Study Space App,  improves on uninformed methods of search. 

Third, proximity was, on average, the most efficient search method in every set of trials. 

Fourth, results for the $most$ and $perc$ search functions are very similar. This is notable because of the way the model is implemented. Because at $tick \: 0$ occupancy of all patches is 0, turtles initially prioritize by the absolute value of study space in a patch. Thus at $tick \: 0$, $most$ and $perc$ are the same. It is only after at least one space has been occupied that the search functions diverge. Thus the differences in outcomes are driven by the results for turtles who do not find space at the first patch they search. This will be discussed in greater depth in the conclusions. 

Fifth, comparing trial sets 19-21, 25-27, and 28-30 reveals the sensitivity of search time to the dispersion of study space over the environment. On average, the total study space in a trial is the number of places multiplied by the number of spaces (per place). Thus the three sets of trials increase the number of places, and decrease the number of spaces, holding total space roughly constant. As space becomes more distributed, turtles are on average, closer to study space anywhere in the environment, but can search fewer spaces in a given tick. In the results, it is clear that higher dispersion results in less efficient search for space with ticks required and efficiency falling as the dispersion increases. 

Sixth, comparing margins of error for trials 1-3 with trials 4-6 and trials 7-9 with trials 10-12 and 13-15 with 16-18, a higher number of agents for the same number of trials reduces the margin of error. The ME's on the right are consistently smaller than those on the left of each table. to some extent a higher agent set gives more stable results. 

Seventh, scaling the model up, moving closer to parameter values representative of UCL, increases the confidence allowed in the model outcome but does not change the overall results. Mean outcomes on the left and right sides of tables 2,3, and 4 are different but overall consistent, indicating that scaling the model down for computational reasons may not have had a negative effect on the reliability of it's predictions. 

Eighth, XXXXXXXXXXXXXXXXXXXXX



\section{Conclusions}

Thus, the key conclusion of this investigation is that the UCL study space App may not have a material impact on search times for study space while working towards more tightly clustered study spaces at major points across campus probably would reduce study times. This is reflected in the fact that search times for the newly built Student Center are better than for older places like the highly distributed space in the Main Library, the architecture of the university is slowly improving the student experience. 


As mentioned above, a key unrealistic feature of this model is that all agents arrive simultaneously. This heavily emphasizes the search behavior at $tick \: 0$, which for $most$ and $perc$ are the same. A model that included stochastically determined arrival time or number may allow for greater differentiation between the two search functions. 

Finally, further work on the effect of scaling a model of this nature would be valuable. it is hypothesized that scaling may begin to distort model conclusions as scale approached the zero lower bound in the sense that it would begin to be difficult to maintain ratios of spaces per environment distance, or students to space.  

\nocite{*}

\medskip


\printbibliography


\end{document}
